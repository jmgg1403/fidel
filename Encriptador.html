<!DOCTYPE html>
<html>
<head>
    <script>
    function copiarTextoDesencriptado() {

        //Funcion para copiar texto de texto ecriptado
        var textoDesencriptado = document.getElementById("texto-desencriptado").value;
        var tempTextarea = document.createElement("textarea");
        tempTextarea.value = textoDesencriptado;
        document.body.appendChild(tempTextarea);

        tempTextarea.select();
        document.execCommand("copy");

        document.body.removeChild(tempTextarea);
        //funcion para transicion de verde
        var divBordeCopiar = document.getElementById("oculto");
        divBordeCopiar.style.borderColor = "rgb(2, 255, 2)";
        setTimeout(function() {
            console.log(divBordeCopiar.style.borderColor = "transparent");
        }, 500);

        
}

//funcion de encriptar
        function encriptar() {
            var textoOriginal = document.getElementById("texto-original").value;
            var textoEncriptado = "";
        
            for (var i = 0; i < textoOriginal.length; i++) {
                var letra = textoOriginal[i];
        
                switch (letra) {
                case "e":
                    textoEncriptado += "enter";
                    break;
                case "i":
                    textoEncriptado += "imes";
                    break;
                case "a":
                    textoEncriptado += "ai";
                    break;
                case "o":
                    textoEncriptado += "ober";
                    break;
                case "u":
                    textoEncriptado += "ufat";
                    break;
                default:
                    textoEncriptado += letra;
                }
            }
        
            document.getElementById("texto-desencriptado").value = textoEncriptado;
            }
        //funcion de desencriptar
            function desencriptar() {
            var textoEncriptado = document.getElementById("texto-original").value;
            var textoDesencriptado = "";
        
            for (var i = 0; i < textoEncriptado.length; i++) {
                if (textoEncriptado[i] === "e" && textoEncriptado[i + 1] === "n" && textoEncriptado[i + 2] === "t" && textoEncriptado[i + 3] === "e" && textoEncriptado[i + 4] === "r") {
                textoDesencriptado += "e";
                i += 4;
                } else if (textoEncriptado[i] === "i" && textoEncriptado[i + 1] === "m" && textoEncriptado[i + 2] === "e" && textoEncriptado[i + 3] === "s") {
                textoDesencriptado += "i";
                i += 3;
                } else if (textoEncriptado[i] === "a" && textoEncriptado[i + 1] === "i") {
                textoDesencriptado += "a";
                i += 1;
                } else if (textoEncriptado[i] === "o" && textoEncriptado[i + 1] === "b" && textoEncriptado[i + 2] === "e" && textoEncriptado[i + 3] === "r") {
                textoDesencriptado += "o";
                i += 3;
                } else if (textoEncriptado[i] === "u" && textoEncriptado[i + 1] === "f" && textoEncriptado[i + 2] === "a" && textoEncriptado[i + 3] === "t") {
                textoDesencriptado += "u";
                i += 3;
                } else {
                textoDesencriptado += textoEncriptado[i];
                }
            }
        
            document.getElementById("texto-desencriptado").value = textoDesencriptado;
        }
        //funcion para mostrar elemento oculto
        function mostrarElemento() {
            var divIma = document.getElementById("ima");
            var divOculto = document.getElementById("oculto");
            var divResul = document.querySelector(".result");
            var divResulB = document.querySelector(".result");
            var textoOriginal = document.getElementById("texto-original");
            var divtextoOriginal = document.getElementById("texto-original");
            var divTextodesencriptado = document.getElementById("texto-desencriptado").value;
//esta es una variable de filtrado de caracteres
            var regex = /^[a-z\s]+$/; 
    
             if (textoOriginal.value.trim() !== "") {

                 if (regex.test(textoOriginal.value.trim())) {
                    divIma.style.display = "none";
                    divOculto.style.display = "block";
                    divResul.style.boxShadow = "0px 24px 32px -8px rgba(0, 0, 0, 0.9)";
                    divResulB.style.background = "rgba(0, 0, 0, 0.2)";
                    divtextoOriginal.style.color = "#0A3871";

                } else {
                     divtextoOriginal.style.color = "red";
        
                    if (divTextodesencriptado.length > 0) {
                        divIma.style.display = "block";
                        divOculto.style.display = "none";
                        divResul.style.boxShadow = "0px 0px 0px 0px rgba(0, 0, 0, 0)";
                        divResulB.style.background = "rgba(0, 0, 0, 0)";
                }
        }
}
        }



      </script>
    <meta charset="UTF-8">
        <title>Fidel el Encriptador</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">

        <a href="https://www.aluracursos.com/"> <img src="imagenes/logo.PNG" alt="Logo" id="logo" ></a>
    </head>
    <body>

        <div class="cuerpo"> 
            <textarea cols="40" rows="9" type="text" id="texto-original" placeholder="Descifra los secretos y plasma tus palabras en este enigma....."></textarea><br>
            
            <div class="caja1">
                <p>&#10071 Solo las letras en su forma más humilde podrán ser admitidas</p>
                <button id="btn1" onclick="encriptar() ; mostrarElemento()">Encriptar</button>
                <button id="btn2" onclick="desencriptar(); mostrarElemento()">Desencriptar</button><br>
            </div>
            
            <section class="result">
                <div id="ima">
                    <img  id="niña" src="imagenes/niña.PNG">
                    <p id="detector">Aquí no hay nada Sherlock ;)</p>
                </div>
                <div id="oculto">
                    <textarea id="texto-desencriptado" readonly></textarea><br>
                    <label for="mensaje">¡Ehureka!</label>
                    <button id="btn3" onclick="copiarTextoDesencriptado()">Copiar</button>
                  </div>
                  
            </section>

            

        </div>
        <footer>
            <p class="copyright">&copy Copyright José García :)</p>
        </footer>
    </body>

  
</html>